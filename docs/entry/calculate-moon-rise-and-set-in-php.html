<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Calculate Moon Rise and Set in PHP - Matt Hackmann</title><link rel="stylesheet" type="text/css" href="https://dxprog.com/static/css/index.css"/></head><body><section class="post-page"><section class="intro-bar intro-bar--small"><img src="https://dxprog.com/static/images/me.jpg" alt="Matt Hackmann" class="intro-bar__photo"/><h1 class="intro-bar__header"><a href="https://dxprog.com/" title="Back to home" class="intro-bar__home-link"><span class="intro-bar__name intro-bar__name--first">Matt</span><span class="intro-bar__name intro-bar__name--last">Hackmann</span></a></h1><h2 class="intro-bar__subhead">The thoughts and goings-on of some programmer dude.</h2><nav class="intro-bar__social-nav"><ul class="social-links"><li class="social-links__item"><a class="social-links__link social-links__link--rss" target="_blank" href="http://feeds.feedburner.com/dxprog">RSS Feed</a></li><li class="social-links__item"><a class="social-links__link social-links__link--github" target="_blank" href="https://github.com/dxprog">GitHub</a></li><li class="social-links__item"><a class="social-links__link social-links__link--twitter" target="_blank" href="https://twitter.com/dxprog">Twitter</a></li><li class="social-links__item"><a class="social-links__link social-links__link--linkedin" target="_blank" href="https://www.linkedin.com/in/mhackmann">LinkedIn Profile</a></li></ul></nav></section><article class="post"><header class="post__header"><h1 class="post__title"><a href="https://dxprog.com/entry/calculate-moon-rise-and-set-in-php">Calculate Moon Rise and Set in PHP</a></h1><time class="post__published">June 27, 2011</time></header><div class="post__content"><p>If you&#39;ve been paying attention to my <a href="http://twitter.com/dxprog">Twitter</a> account, you&#39;ve probably seen a reference or two about how I&#39;ve been calculating the positions of astronomical bodies. Well, today I release part of that to you.</p>
<p><strong>Download:</strong> <a href="http://pastebin.com/TYfssCph">Source</a></p>
<p>The above code is pretty much a direct port of Keith Burnett&#39;s implementation <a href="http://bodmas.org/astronomy/riset.html">here</a>. Outside of porting, my only changes were some code clean up and having the timezone be calculated automatically for the longitude given. This means that you will always get back a time stamp that is local to the point of origin.</p>
<p><strong>How to Use</strong>
Moon::calculateMoonTimes(<em>month</em>, <em>day</em>, <em>year</em>, <em>latitude</em>, <em>longitude</em>);</p>
<pre><code class="lang-php">date_default_timezone_set(<span class="hljs-string">'America/Chicago'</span>);
<span class="hljs-keyword">include</span>(<span class="hljs-string">'moon.php'</span>);
print_r(Moon::calculateMoonTimes(<span class="hljs-number">6</span>, <span class="hljs-number">28</span>, <span class="hljs-number">2011</span>, <span class="hljs-number">36.754478</span>, <span class="hljs-number">-96.110291</span>));
</code></pre>
<p>The above code will output the following result:</p>
<pre><code class="lang-output">stdClass Object ( [moonrise] =&gt; 1309246800 [moonset] =&gt; 1309300560 )
</code></pre>
<p>Moonrise and moonset, as stated previously, are a Unix time stamp local to the latitude and longitude given.</p>
</div></article><footer class="footer"><p class="footer__copyright">Copyright Â© 2018 Matt Hackmann</p><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-280226-1"></script><script src="//dxprog.com/static/js/dxprog.js"></script></footer></section></body></html>