<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Display Time Code in After Effects with Expressions</title><link rel="stylesheet" type="text/css" href="http://staticr.dxprog.com/static/css/index.css"/></head><body><section class="post-page"><section class="intro-bar intro-bar--horizontal"><img src="http://staticr.dxprog.com/static/images/me.jpg" alt="Matt Hackmann" class="intro-bar__photo"/><h1 class="intro-bar__header"><span class="intro-bar__name intro-bar__name--first">Matt</span><span class="intro-bar__name intro-bar__name--last">Hackmann</span></h1><h2 class="intro-bar__subhead">The thoughts and goings-on of some programmer dude.</h2><nav class="intro-bar__social-nav"><ul class="social-links"><li class="social-links__item"><a class="social-links__link social-links__link--rss" target="_blank" href="http://feeds.feedburner.com/dxprog">RSS Feed</a></li><li class="social-links__item"><a class="social-links__link social-links__link--github" target="_blank" href="https://github.com/dxprog">GitHub</a></li><li class="social-links__item"><a class="social-links__link social-links__link--twitter" target="_blank" href="https://twitter.com/dxprog">Twitter</a></li><li class="social-links__item"><a class="social-links__link social-links__link--linkedin" target="_blank" href="https://www.linkedin.com/in/mhackmann">LinkedIn Profile</a></li></ul></nav></section><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/display-time-code-in-after-effects-with-expressions">Display Time Code in After Effects with Expressions</a></h1><time class="post__published">November 3, 2008</time></header><div class="post__content"><p>Whilst working on my current video project, I came across a need to display the current time code. Expressions are the answer, of course, so I came up with this.</p>
<pre><code class="lang-javascript">txt = &quot;&quot;;
frames = timeToFrames(t = time + thisComp.displayStartTime, fps = 1.0 / thisComp.frameDuration, isDuration = false);
f = frames % 30;
s = Math.floor(frames / 30);
m = Math.floor(s / 60) % 60; s %= 60;
h = Math.floor(m / 60);
if (f &amp;lt; 10) f = &quot;0&quot; + f;
if (s &amp;lt; 10) s = &quot;0&quot; + s;
if (m &amp;lt; 10) m = &quot;0&quot; + m;
if (h &amp;lt; 10) h = &quot;0&quot; + h;
txt = h + &quot;:&quot; + m + &quot;:&quot; + s + &quot;;&quot; + f;
txt
</code></pre>
<p>Simply attach this expression to the Source Text property of a text layer and viola!</p>
</div></article><footer class="footer"><p class="footer__copyright">Copyright Â© 2018 Matt Hackmann</p></footer></section></body></html>