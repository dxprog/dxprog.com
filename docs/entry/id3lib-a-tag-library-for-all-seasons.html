<!DOCTYPE html>
<html><head><title>ID3Lib - A tag library for all seasons</title></head><body><article><h2>ID3Lib - A tag library for all seasons</h2><time>October 21, 2009</time><div><p><img src="http://images.dxprog.com/blog/id3lib.png" alt="" title="image"></p>
<p>ID3Lib [ <a href="http://dxprog.com/files/ID3Lib.zip">Download</a> ]</p>
<p>As one may have derived from previous posts, I have a <a href="http://labs.dxprog.com/smp/">project</a> the uses MP3s quite heavily. As such, retrieving tag data from these is quite an important thing. Having recently migrated my personal server to Windows, I needed a non-Linux variant of my previous <a href="http://dxprog.com/entry/building-a-web-based-media-player---part-1/">tag read</a>. I thought that while I was at it I could add an additional feature, namely saving embedded album art. Unfortunately, I was unable to find any clear directions on how to do so using <a href="http://developer.kde.org/~wheeler/taglib.html">TagLib</a>, so I created my own library. Three different times. In three different languages. A C++ version, a .NET version and, finally, a PHP version.[break]</p>
<p>Each of these libraries works pretty similar, but to give you the general idea, I&#39;ll write out a simple program for each.</p>
<p>[code=c++]#include <iostream></p>
<p>#include &quot;id3lib.h&quot;</p>
<p>using namespace std;</p>
<p>void main () {
    ID3Lib id3(&quot;my.mp3&quot;); // Create the object
    if (!id3)
        cout &lt;&lt; &quot;Unable to parse file&quot;;
    else {
        cout &lt;&lt; &quot;Title: &quot; &lt;&lt; id3.artist() &lt;&lt; &quot;n&quot;; // Output title using shortcut method
        cout &lt;&lt; &quot;Album: &quot; &lt;&lt; id3.tag(&quot;TALB&quot;) &lt;&lt; &quot;n&quot;; // Can retrieve any tag with this method
        id3.saveAlbumArt (&quot;album_art.jpg&quot;); // Save any embedded picture
    }
}[/code]</p>
<p>[code=c#]using System;
using System.Collections.Generic;
using System.Text;
using Id3Lib_Net;</p>
<p>namespace Id3LibNet_Test
{
    class Program
    {
        static void Main(string[] args)
        {
            Reader t = new Reader(&quot;my.mp3&quot;); // Load the MP3 file
            Console.WriteLine(t.title()); // Print out the title using shorthand method
            Frame album = t.getFrame(&quot;TALB&quot;); // All loaded tags can be retrieved this way
            t.savePicture (&quot;album_art.jpg&quot;);
        }
    }
}[/code]</p>
<p>[code=php]include (&quot;id3lib.php&quot;);</p>
<p>$id3 = new ID3Lib (&quot;my.mp3&quot;); // Create the ID3Lib object
if (!$id3-&gt;getErr()) { // Will be null if load was successful
    echo (&quot;Title: &quot;.$id3-&gt;title); // A shortcut for getting the title
    echo (&quot;Album: &quot;.$id3-&gt;tags-&gt;TALB); // All tags can be accessed this way
    $id3-&gt;savePicture (&quot;album_art.jpg&quot;); // Saves an embedded picture
}
else
    echo (&quot;There was an error opening the MP3: &quot;.$id3-&gt;getErr());[/code]</p>
<p>Each library includes a set of methods/properties for the following common tags: title, album, artist, disc, track, year.</p>
<p>All three libraries are licensed under the GPLv3 and have the original source code, so you can do with them what you wish, though credit and a link back here is always nice :-).</p>
<p>ID3Lib [ <a href="http://dxprog.com/files/ID3Lib.zip">Download</a> ]</p>
<p>Disclaimer: I have only tested these on MP3s I have available to me, so it&#39;s very possible that you may have issues with this library. If you do, please leave a comment and I&#39;ll update the libs accordingly.</p>
</div></article></body></html>