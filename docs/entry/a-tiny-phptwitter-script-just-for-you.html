<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>A tiny PHP/Twitter script just for you!</title><link rel="stylesheet" type="text/css" href="http://staticr.dxprog.com/static/css/index.css"/></head><body><section class="post-page"><section class="intro-bar intro-bar--horizontal"><img src="http://staticr.dxprog.com/static/images/me.jpg" alt="Matt Hackmann" class="intro-bar__photo"/><h1 class="intro-bar__header"><span class="intro-bar__name intro-bar__name--first">Matt</span><span class="intro-bar__name intro-bar__name--last">Hackmann</span></h1><h2 class="intro-bar__subhead">The thoughts and goings-on of some programmer dude.</h2><nav class="intro-bar__social-nav"><ul class="social-links"><li class="social-links__item"><a class="social-links__link social-links__link--rss" target="_blank" href="http://feeds.feedburner.com/dxprog">RSS Feed</a></li><li class="social-links__item"><a class="social-links__link social-links__link--github" target="_blank" href="https://github.com/dxprog">GitHub</a></li><li class="social-links__item"><a class="social-links__link social-links__link--twitter" target="_blank" href="https://twitter.com/dxprog">Twitter</a></li><li class="social-links__item"><a class="social-links__link social-links__link--linkedin" target="_blank" href="https://www.linkedin.com/in/mhackmann">LinkedIn Profile</a></li></ul></nav></section><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/a-tiny-phptwitter-script-just-for-you">A tiny PHP/Twitter script just for you!</a></h1><time class="post__published">February 24, 2009</time></header><div class="post__content"><p>Was rather bored this afternoon and then I though to myself &quot;Why not add Twitter functionality to my music page?&quot; So, after some digging through Twitter APIs and some refreshers on HTTP Authentication, I wrote this tiny, beautiful little script.</p>
<pre><code class="lang-php">
// Return values
define (&quot;TWITTER_OK&quot;, true);
define (&quot;TWITTER_UNAUTHORIZED&quot;, -1);
define (&quot;TWITTER_TOO_LONG&quot;, -2);
define (&quot;TWITTER_COULD_NOT_CONNECT&quot;, -3);

function sendTweet ($status, $userName, $userPass)
{

    // Open a socket to Twitter
    if (!($socket = fsockopen (&quot;twitter.com&quot;, 80)))
        return TWITTER_COULD_NOT_CONNECT;

    // Create the headers
    $headers = &quot;POST /statuses/update.xml HTTP/1.1\r\n&quot;;
    $headers .= &quot;Host: twitter.com\r\n&quot;;
    $headers .= &quot;Authorization: Basic &quot;.base64_encode ($userName.&quot;:&quot;.$userPass).&quot;\r\n&quot;;
    $headers .= &quot;Content-length: &quot;.strlen (&quot;status=$status&quot;).&quot;\r\n\r\n&quot;;
    $headers .= &quot;status=$status\r\n&quot;;

    // Send the headers
    fwrite ($socket, $headers);

    // Get the response
    $response = &quot;&quot;;
    while (!feof ($socket))
        $response .= fgets ($socket, 1024);

    // Check for HTTP status OK (200)
    if (!strpos ($response, &quot;200&quot;))
        return TWITTER_UNAUTHORIZED;

    return TWITTER_OK;

}

</code></pre>
<p>It is as simple as it looks. Enjoy!</p>
</div></article><footer class="footer"><p class="footer__copyright">Copyright Â© 2018 Matt Hackmann</p></footer></section></body></html>