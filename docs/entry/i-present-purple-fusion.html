<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>I Present Purple Fusion! - Matt Hackmann</title><link rel="stylesheet" type="text/css" href="https://dxprog.com/static/css/index.css"/></head><body><section class="post-page"><section class="intro-bar intro-bar--small"><img src="https://dxprog.com/static/images/me.jpg" alt="Matt Hackmann" class="intro-bar__photo"/><h1 class="intro-bar__header"><a href="https://dxprog.com/" title="Back to home" class="intro-bar__home-link"><span class="intro-bar__name intro-bar__name--first">Matt</span><span class="intro-bar__name intro-bar__name--last">Hackmann</span></a></h1><h2 class="intro-bar__subhead">The thoughts and goings-on of some programmer dude.</h2><nav class="intro-bar__social-nav"><ul class="social-links"><li class="social-links__item"><a class="social-links__link social-links__link--rss" target="_blank" href="http://feeds.feedburner.com/dxprog">RSS Feed</a></li><li class="social-links__item"><a class="social-links__link social-links__link--github" target="_blank" href="https://github.com/dxprog">GitHub</a></li><li class="social-links__item"><a class="social-links__link social-links__link--twitter" target="_blank" href="https://twitter.com/dxprog">Twitter</a></li><li class="social-links__item"><a class="social-links__link social-links__link--linkedin" target="_blank" href="https://www.linkedin.com/in/mhackmann">LinkedIn Profile</a></li></ul></nav></section><article class="post"><header class="post__header"><h1 class="post__title"><a href="https://dxprog.com/entry/i-present-purple-fusion">I Present Purple Fusion!</a></h1><time class="post__published">May 24, 2007</time></header><div class="post__content"><p>This is the name of the new site backend I&#39;ve been working on. Now, for anybody who&#39;s been paying attention I haven&#39;t written a web engine since Tetra 2. The last time I worked on it was sometime back in &#39;05 I believe. Back then I was extremely proud of my little creation but I look back on it and think to myself &quot;that is one bloated piece of crap&quot;. It really was. Over 2500 lines of code. In comparison my new engine is only one or two hundred lines of code and almost as powerful (or it will be).</p>
<p>From a design standpoint Purple Fusion is way different from Tetra. Tetra was built around an object-oriented core. From an interface standpoint this was very clean. However, it did lend to some slowdown and made adding new modules cumbersome at best. It also limited what you could do with a module (to a degree). The new engine completely throws objects out the window (almost, the main class is PurpleFusion and that&#39;s the only one) and goes for a scriptable approach. Each page is it&#39;s own seperate page script that makes calls for getting data, displaying templates, etc. This makes creating new pages incredible quick and eliminates redundant code. Here&#39;s the script for the front page:</p>
<p><code>
&lt;page title=&quot;Home&quot;&gt;
    &lt;template:page_head&gt;
    &lt;db:entries limit=&quot;15&quot; sort=&quot;entry_date&quot; order=&quot;desc&quot;&gt;
    &lt;loop:entries&gt;
        &lt;dblink:category_name table=&quot;categories&quot; link=&quot;category_id&quot;&gt;
        &lt;field:entry_date type=&quot;date&quot; format=&quot;m-d-Y&quot;&gt;
        &lt;field:entry_body type=&quot;standard&quot;&gt;
        &lt;process:data&gt;
        &lt;template:entry&gt;
    &lt;end:loop&gt;
    &lt;template:page_foot&gt;
&lt;end:page&gt;
</code></p>
<p>As you can see it borrows from SGML&#39;s tag structure. Because of the tag structure it&#39;s very human readable and makes for quick prototyping. I&#39;m incredibly pleased with the way it&#39;s going right now and hopefully I&#39;ll have it running this site in a couple of weeks. Now that I think about it I could even speed things up by generating a cached version of the source code and just include that instead of parsing the page all the time. Yeah, this rocks.</p>
</div></article><aside class="post__foot"><a class="foot-nav foot-nav--prev" title="In and of Ranting" href="https://dxprog.com/entry/in-and-of-ranting">In and of Ranting</a><a class="foot-nav foot-nav--next" title="Digital Double - The Lost Comics" href="https://dxprog.com/entry/digital-double-the-lost-comics">Digital Double - The Lost Comics</a></aside><footer class="footer"><p class="footer__copyright">Copyright Â© 2021 Matt Hackmann</p><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-280226-1"></script><script src="//dxprog.com/static/js/dxprog.js"></script></footer></section></body></html>