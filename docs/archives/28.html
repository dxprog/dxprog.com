<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Archives - Page 28</title><link rel="stylesheet" type="text/css" href="http://staticr.dxprog.com/static/css/index.css"/></head><body><section class="rollup-page"><section class="intro-bar"><img src="http://staticr.dxprog.com/static/images/me.jpg" alt="Matt Hackmann" class="intro-bar__photo"/><h1 class="intro-bar__header"><span class="intro-bar__name intro-bar__name--first">Matt</span><span class="intro-bar__name intro-bar__name--last">Hackmann</span></h1><h2 class="intro-bar__subhead">The thoughts and goings-on of some programmer dude.</h2><nav class="intro-bar__social-nav"><ul class="social-links"><li class="social-links__item"><a class="social-links__link social-links__link--rss" target="_blank" href="http://feeds.feedburner.com/dxprog">RSS Feed</a></li><li class="social-links__item"><a class="social-links__link social-links__link--github" target="_blank" href="https://github.com/dxprog">GitHub</a></li><li class="social-links__item"><a class="social-links__link social-links__link--twitter" target="_blank" href="https://twitter.com/dxprog">Twitter</a></li><li class="social-links__item"><a class="social-links__link social-links__link--linkedin" target="_blank" href="https://www.linkedin.com/in/mhackmann">LinkedIn Profile</a></li></ul></nav></section><section class="article-list"><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/my-santa-hat-is-more-famous-than-i">My Santa Hat is More Famous Than I</a></h1><time class="post__published">December 24, 2012</time></header><div class="post__content"><p>Every year (except last year), our station ellicits a candid reading of The Night Before Christmas from its employees. I again have graced the air waves with my handsome charm, but it&#39;s my Santa hat that steals the show. If you see a Santa hat in this video, it is the one I wear each and every day.</p>
<p>[youtube=fCEfMyT2uYg]</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/christmas-lights-extravaganza">Christmas Lights Extravaganza</a></h1><time class="post__published">December 23, 2012</time></header><div class="post__content"><p>I&#39;ve been sitting on this one for a while now. I&#39;m sure everybody&#39;s seen the video, but I&#39;ve been meaning to do a technical writeup. In case you haven&#39;t seen the video and have no idea what I&#39;m talking about: I made a computer controlled lights setup. You can watch it below:</p>
<p>[![youtube video](<a href="https://img.youtube.com/vi/ufCdZ3xzuUY]">https://img.youtube.com/vi/ufCdZ3xzuUY]</a></p>
<p>Okay, now that we have that out of the way, follow the break for the technical goodies.[break/0.jpg)](<a href="https://www.youtube.com/watch?v=ufCdZ3xzuUY]">https://www.youtube.com/watch?v=ufCdZ3xzuUY]</a></p>
<p>Okay, now that we have that out of the way, follow the break for the technical goodies.[break)</p>
<h2 id="layout">Layout</h2>
<p>Certainly I mentioned it <a href="http://dxprog.com/entry/arduino-project-1-taiko-march/">some time ago</a>, but at the heart of this project is an Arduino Uno. Actually, there are two hearts in this case. The other one is a Raspberry Pi, the $35 micro computer. Both of these pieces perform very different roles, but before I delve into that, have a shoddily drawn &quot;schematic&quot; on how all the parts are connected:</p>
<p><img src="http://images.dxprog.com/blog/tree_lights_schematic.jpg" alt="" title="Grossly simplified"></p>
<p>Here&#39;s a quick rundown of each component and its use:</p>
<p><strong>Relay/Outlet Box</strong> - This is a gang box that consists of four outlets all hooked up into a relay board (<a href="http://www.amazon.com/SainSmart-4-Channel-Relay-Module-Arduino/dp/B0057OC5O8/ref=sr_1_2?ie=UTF8&amp;amp;amp;amp;qid=1356312659&amp;amp;amp;amp;sr=8-2&amp;amp;amp;amp;keywords=relay+board">I used this one</a>). This allows me four separate channels of light control for up to eight strings of lights. The channels in my setup are broken out into the lights on the tree, the star, and two strings of lights on either side of the tree.</p>
<p><strong>Arduino</strong> - The Arduino in this case doesn&#39;t actually do much. It receives commands from the Raspberry Pi via serial communication and toggles the appropriate relay. It also takes input from the button on the proto shield and sends that back to the Pi.</p>
<p><strong>Raspberry Pi</strong> - The Pi is what does most all of the heavy lifting. It plays the music and parses the sequence file to send the correct commands to the Arduino at the appropriate time. It&#39;ll also change display modes upon pressing a button on the Arduino. Pressing the button cycles through the following modes: play loaded light sequence, all on, all off.</p>
<p><img src="http://images.dxprog.com/blog/tree_lights_hardware.jpg" alt="" title="The setup"></p>
<p>That&#39;s the hardware side, let&#39;s move onto the softer side of things.</p>
<h2 id="sequencing">Sequencing</h2>
<p><img src="http://images.dxprog.com/blog/tree_lights_after_effects.jpg" alt="" title="It&#39;s like motion graphics for real life"></p>
<p>All of my sequencing was done in After Effects. I setup a basic scene with all my light channels (mapped to approximations of what they&#39;d be in real life) and the song I was sequencing. I used the opacity property to set the on/off state of each string; 0 was off, non-0 on. Sadly, I forgot all about hold frames until I was nearly done, so I have a lot of side-by-side key frames keeping the previous state. The composition was set at a flat 30fps to make time coding easy later. Once I was done sequencing, I copied each layers key frames into a flat text file for compilation later.</p>
<h2 id="code">Code</h2>
<p>With the hardware and sequencing in place, only code remained. There are three programs used through out the process: one to compile together all the pasted sequences from After Effects into a nice JSON format, the program to parse said file and output data to the Arduino, and the program running on the Arduino itself. Note - there&#39;s not a <em>lot</em> of code, but too much to paste here. I&#39;ve made the entire project available on <a href="https://github.com/dxprog/ChristmasLights">GitHub</a>.</p>
<p><strong>Parsing After Effects Key Frame Data</strong></p>
<p><a href="https://github.com/dxprog/ChristmasLights/blob/master/compile.php">This script was written in PHP</a> because it&#39;s what I work with fastest. The keyframes code was slightly augmented to identify what string was what (String ID). It is then time coded and converted into a nice JSON format. The sequence can be found <a href="https://github.com/dxprog/ChristmasLights/blob/master/holy_night.txt">here</a> and the converter program converts it to some nice <a href="https://raw.github.com/dxprog/ChristmasLights/master/holy_night.js">JSON</a>.</p>
<p><strong>The Raspberry Pi&#39;s Side</strong></p>
<p>This part was initially written in node.js, but I couldn&#39;t find a good library for playing music and keeping tabs on it&#39;s current position. So, I settled for Python and the PyGame library since both are installed by default in the Pi linux distro. The main loop of the script just sits around waiting for button input. The sequence loop parses the JSON file from above, waiting until the music hits a point that requires action. It then sends out the following byte for each command:</p>
<p>AAAABBBB</p>
<p>The upper four bits are the on/off state and the lower four are the string that the action is to be carried out for. It&#39;s pretty simple and keeps the throughput low.</p>
<p><strong>The Arduino Side</strong></p>
<p>As stated above, the Arduino side is very simple: it sits and waits for commands from the Pi or for the button to be pressed. When it receives one of the command bytes, it breaks it down into the two parts and sends HIGH or LOW for the correct pin taking into consideration the fact that I started on digital pin 4. The Arduino code can be found <a href="https://github.com/dxprog/ChristmasLights/blob/master/controller.ino">here</a>.</p>
<p>So, that&#39;s pretty much everything in a nutshell. Overall, for a first attempt doing really anything like this, I&#39;m quite pleased with the results. Next year, I&#39;d like to get away from the relay board (it&#39;s loud as hell) and use MOSFET which would grant me the ability to do fades and not just on/off. Also, I&#39;d like to expand beyond just four channels and perhaps throw in a RGB LED strip for extra fun.</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/letting-go">Letting Go</a></h1><time class="post__published">November 26, 2012</time></header><div class="post__content"><p>My room has always been a mess and myself a bit of a slob. By Aunt May&#39;s reckoning, <a href="http://www.quotefully.com/movie/Spider-Man+(2002">this is the way of brilliant man.</a>/Aunt+May#conversation_0392e37e994611e090c812313b10052d) I think it takes an even <em>more</em> brilliant man to realize that his shit hole of a room needs a thorough cleaning. And it takes an even more brilliant man than that to never let his shit hole get to shit hole state. I&#39;m not brilliant enough to get to that point, but I did clean my room today. And then I realized - there&#39;s only so much cleaning that can be done when there&#39;s no place left for all the shit in said shit hole. That&#39;s when difficult decisions need to be made.</p>
<p>Decisions like recycling that pile of mostly broken computers that you swore one day you&#39;d get working again and turn into a nifty little in house server farm...</p>
<p><img src="http://images.dxprog.com/blog/computer_stack.jpg" alt="" title="Of course, you keep the one extra computer that does work... plus a bunch of spare parts"></p>
<p>Also, deciding that your really don&#39;t need your DS Lite, because you have an SP which can play your GBA games, and a 3DS which can play DS games. The extra system - while an extremely sexy piece of hardware - is just redundant. So, you trade that bitch in for $24, 20% of the price that you paid for it.</p>
<p>Or maybe that cord yarn that you bought because you were going to teach yourself how to crochet and make a stuffed Hobbes. Three, actually. One to keep, one for your progeny (pffft), and one to give away. Yup, just need to face facts that it&#39;s not happening.</p>
<p>Some things are a little easier to part with, though. Like a pile of old gaming magazines and course manuals from college. Goodwill&#39;d!</p>
<p>And so, my room is clean and my closet is even clean. Hopefully somebody will put all my old shit to good use or if they throw it away, it won&#39;t be on my conscience.</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/weekend-of-productivity">Weekend of Productivity</a></h1><time class="post__published">November 19, 2012</time></header><div class="post__content"><p>Being single has its upsides. It means I get to such things as lounge around doing <em>jack shit</em> on the days I&#39;m not dancing for the man. I decided to buck that trend this weekend, though, and actually accomplished quite a bit. All of it started with my decision <em>not</em> to hop in line for a Wii U early.</p>
<p>The original idea was to take my brother to work at 2pm and then insert myself into whatever line there was at Walmart (they tell me there&#39;s no dash in that anymore). I was hesitant to say the least. That would have been a near 10 hour wait in a store with only a handful of electronics to keep me company. Despite the fact that I had loaded up a satchel of entertainment, I decided at the last minute to not get in line, resigning myself to not getting a Wii U <em>right now</em>. I could waste my time much more effectively at home.</p>
<p>I actually spent most of the afternoon programming up the last stages of the <a href="http://bracket.awwni.me/">awwnime bracket</a> to include a wildcard round. In between bouts of frustration, I&#39;d browse around the internet or conversate on IRC, but in the end there were a lot of solid hours of coding done.</p>
<p>Once that was completed, I cleaned my room a little bit and also loaded up the dishwasher from lunch earlier in the day. Then, I caught up on my currently airing shows. I consider this an accomplishment as my laziness has reached heights so high that it feels like a chore to watch television. I think it&#39;s more I don&#39;t like watching shows alone, actually. Not as fun that way.</p>
<p>After retrieving my brother from work, we swung by Walmart to see how long the Wii U line was. The answer to that was a surprising &quot;not very&quot;, and we spent about an hour in a half waiting before walking out with the last available Deluxe unit. I thank the good lord that I decided against the ten hour wait as the 90 minutes we did spend were pretty damned stressful in their own right.</p>
<p>Yesterday, I spent a goodly bit of time working out the final technical details of my computerized lights setup and began sequencing my first display to music (more info on that soon). I even spent some time chatting with the maternal unit and baked up some cookies. Also shipped my brand new Wii U off for repair because the disc drive doesn&#39;t like reading discs (sucks). But, c&#39;est la vie.</p>
<p>All in all, a pretty damned productive weekend. More productive than I&#39;ve had in a goodly long time.</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/a-cute-world-of-programming-possibilities">A Cute World of Programming Possibilities</a></h1><time class="post__published">November 3, 2012</time></header><div class="post__content"><p><img src="http://images.dxprog.com/blog/awwnime.jpg" alt="" title="Yay for fancy headers"></p>
<p>My love for programming and continuing fascination with anime has lead to <a href="http://dxprog.com/entry/its-like-nes-emulator-dev-all-over/">projects</a> in the past. I&#39;ve also worked on projects that were related to whatever <a href="http://dxprog.com/entry/whew/">online social circles</a> I was involved with <a href="http://dxprog.com/entry/mp-skin-studio-tutorial/">at the time</a>. I seem to have found something that covers all of these at once.</p>
<p>Enter <a href="http://www.reddit.com/r/awwnime/">r/awwnime</a>, a subreddit whose sole existence is to pass around pictures of cute characters from various anime. Doesn&#39;t exactly sound like a pool of awesome programming project ideas, but one would be surprised. This little subreddit of waifus and awws has inspired no less than four very different projects. I had been kicking around the idea of an awwni.me URL for a few days, so when <a href="http://www.reddit.com/r/awwnime/comments/svdl3/sleepover_madoka_magica/c4hfs7k?context=3">this comment came along</a>, I said &quot;fuck it&quot;, dropped a few bucks and registered it.</p>
<h2 id="project-1-eyebleach-alternative">Project 1 - Eyebleach Alternative</h2>
<p>The <a href="http://awwni.me">awwni.me</a> base site isn&#39;t much. It grabs the latest posts from the subreddit and displays it with basic slideshow style controls. Nothing too elaborate, but it lives up to its initial idea of being an anime alternative to <a href="http://eyebleach.com/">eyebleach</a>.</p>
<h2 id="project-2-post-title-analysis">Project 2 - Post Title Analysis</h2>
<p>This one was entirely curiosity on my point, both of the data that would be generated and the implementation. I wanted to see if I could programatically search for trending topics within the subreddit community, specifically characters and shows. The first step to this end was to build a cron job that would collect all new data on a periodic basis. Then, the title would be parsed against other titles to find the longest, most common phrase. In the end, I spun this off into a <a href="http://www.reddit.com/user/ai-tan">bot that posts statistical analyses</a> of various things happening in the subreddt. Additionally, it also directly kicked off a project at work programatically associating <a href="http://www.newson6.com/story/19992537/broken-arrow-police-make-arrest-in-fatal-hit-and-run-of-a-pedestrian">similar stories to each other</a>.[break]</p>
<h2 id="project-3-image-similarity-analysis">Project 3 - Image Similarity Analysis</h2>
<p><strong>Code</strong> - <a href="https://github.com/dxprog/awwnimePostFinder">GitHub</a>
Even back in the digg days (when they were called dupes), reposts were an issue. On a subreddit as small as r/awwnime, it&#39;s even more painfully apparent. Seeing that I already had the cron collecting all images blowing through, tacking on a little bit of image analysis was fairly easy. The analyzing itself is fairly simple and rudimentary; each individual pixel is broken down into twelve &quot;buckets&quot;: red, green, and blue with four slots for value. These values or normalized over the entire image and dumped into a database. From there, it&#39;s simple arithmetic to calculate whether an image is similar or not. The final result can be found <a href="http://awwni.me/repost">here</a>. The percentage is hardly accurate and I&#39;m not sure what to do about that, but it only shows 100% for images that are insanely close, so there&#39;s that. Interestingly enough, bits of the front end for this project have found their way into another work project (not yet live).</p>
<h2 id="project-4-bracket">Project 4 - Bracket</h2>
<p><a href="http://bracket.awwni.me/">The Great 2012 Awwnime Bracket</a>
This project was entirely to kick up some fun within the community and less for the programming challenge (although, that did rear its head). Every year in Japan, there&#39;s a thing called the <a href="http://www.animesaimoe.org/">Saimoe Tournament</a> wherein people will vote for their favorite characters from the previous year of shows. I wanted to bring that to r/awwnime, so I did. Figuring out how the stupid thing would actually work required some thinking, and running it has been both gratifying and tedious. In the end, I settled on a nomination round, an elimination round, and now we&#39;ve moved on to the bracket proper. There were over 800 nominations to sift through and as of now, over 50000 votes have been cast. Keeping cheating and gaming of the system to a minimum required a little engineering, but the real programming challenge was generating the <a href="http://cdn.awwni.me/bracket/bracket_full.jpg">bracket images</a>. Lots of math. I sometimes suck at that. I did have fun designing the look and interface of this one, though. I don&#39;t do that too often.</p>
<p>I don&#39;t know what this little community will inspire me to do next, but it&#39;s given me half a year of nice little brain challenges and nice pictures.</p>
</div></article><div class="paging"><a href="http://staticr.dxprog.com/archives/29.html" class="paging__link paging__link--next">Earlier Posts</a><a href="http://staticr.dxprog.com/archives/27.html" class="paging__link paging__link--previous">Later Posts</a></div></section><footer class="footer"><p class="footer__copyright">Copyright © 2018 Matt Hackmann</p></footer></section></body></html>