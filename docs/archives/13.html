<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Archives - Page 13 - Matt Hackmann</title><link rel="stylesheet" type="text/css" href="https://dxprog.com/static/css/index.css"/></head><body><section class="rollup-page"><section class="intro-bar intro-bar--small"><img src="https://dxprog.com/static/images/me.jpg" alt="Matt Hackmann" class="intro-bar__photo"/><h1 class="intro-bar__header"><a href="https://dxprog.com/" title="Back to home" class="intro-bar__home-link"><span class="intro-bar__name intro-bar__name--first">Matt</span><span class="intro-bar__name intro-bar__name--last">Hackmann</span></a></h1><h2 class="intro-bar__subhead">The thoughts and goings-on of some programmer dude.</h2><nav class="intro-bar__social-nav"><ul class="social-links"><li class="social-links__item"><a class="social-links__link social-links__link--rss" target="_blank" href="http://feeds.feedburner.com/dxprog">RSS Feed</a></li><li class="social-links__item"><a class="social-links__link social-links__link--github" target="_blank" href="https://github.com/dxprog">GitHub</a></li><li class="social-links__item"><a class="social-links__link social-links__link--twitter" target="_blank" href="https://twitter.com/dxprog">Twitter</a></li><li class="social-links__item"><a class="social-links__link social-links__link--linkedin" target="_blank" href="https://www.linkedin.com/in/mhackmann">LinkedIn Profile</a></li></ul></nav></section><section class="article-list"><article class="post"><header class="post__header"><h1 class="post__title"><a href="https://dxprog.com/entry/gravity-my-enemy">Gravity, My Enemy</a></h1><time class="post__published">July 8, 2014</time></header><div class="post__content"><p><a href="https://cmimg.dxprog.com/cm_20140708_7.png"><img src="https://cmimg.dxprog.com/cm_20140708_7.png" alt=""></a></p>
<p>If there&#39;s one thing I&#39;ve learned since I came to California, it&#39;s that my limbs will find any way they can to test gravitational physics on any item close to them.</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="https://dxprog.com/entry/to-become-the-most-boring-person-i-can-be">To Become the Most Boring Person I Can Be</a></h1><time class="post__published">April 5, 2014</time></header><div class="post__content"><p>This blog has once again fallen into dusty shambles. So, I&#39;m going to kick in another post-a-day type experiment... starting tomorrow.</p>
<p>What I&#39;m going to do is keep a daily log for a week, but instead of my usual type rambling, it&#39;ll be just 100% facts, completely devoid of emotion, opinion, or adjectives/adverbs (using as few as possible). A little something like this:</p>
<blockquote>
<p>I woke up at 10:15am this morning. I didn&#39;t actually want to leave my bed, so I fished my iPad out from under my bed and checked my email, Facebook, and reddit. I decided to make German potato salad today but lacked all the ingredients required. After deliberation, I decided I would bike. I geared up, but after getting out the door noticed that my back tire was again low. I put the bike back in my apartment and took the car instead. Since I was no longer worried about distance or the roads I would need to take, I went to Safeway because they have a better selection of food than Target. Once at the store, I purchased potatoes, scallions, bacon, and white wine vinegar. After returning home, I cleaned a large pot to boil the potatoes in. They are currently boiling now.</p>
</blockquote>
<p>Seems a bit like those old <a href="http://dxprog.com/entry/the-me-of-yore-part-1/">journal entries of mine, no?</a>. For contrast, here&#39;s how I&#39;d rewrite the first couple of sentences.</p>
<blockquote>
<p>Given that I&#39;m only half way into this day, I would label it as almost entirely ordinary. Consciousness began to return to me somewhere around 10:15a, about an hour later than my usual 9a (largely thankful to my late night of playing Danganronpa, no doubt). Despite the lateness, I didn&#39;t feel like leave the warm comforts of my bed, so I grabbed my iPad (generally kept beneath my bed) to entertain myself with. I did a quick check of my email, Facebook, and skimmed reddit. Despite Alien Blue being a pretty nice app, I don&#39;t like to &quot;deep dive&quot; into my usual subreddits on a mobile device because I feel the experience would be diminished on a small screen (moe must be observed with as many pixels as possible).</p>
</blockquote>
<p>So, yeah. That&#39;s a thing I&#39;m going to do because I&#39;m otherwise bored and have little to write about (or am not willing to expend the effort in doing so).</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="https://dxprog.com/entry/head-sensations">Head Sensations</a></h1><time class="post__published">March 20, 2014</time></header><div class="post__content"><p>I&#39;d been considering writing a blog post on this subject for some time, but balked because it seemed an odd thing to talk about. But, after the topic came up at lunch not long ago, I figured why not. Besides, I need to post something this month as I&#39;ve not missed posting at least one thing per month since August 2010. Gotta keep the streak alive.</p>
<p>The aforementioned topic is a physical sensation that&#39;s been dubbed on the internet as &quot;ASMR&quot;, or &quot;autonomous sensory meridian response&quot;.It&#39;s honestly a really shitty name and I thought the original idea of &quot;brain orgasm&quot; explained it better, but the <a href="http://www.reddit.com/r/asmr">community</a> doesn&#39;t take kindly to that since it&#39;s not a sexual thing. To actually describe the feeling is a bit difficult as there&#39;s nothing really to relate it to. The usual description is &quot;head tingles&quot; and, while that&#39;s not entirely untrue, it doesn&#39;t seem quite accurate either. I&#39;d describe it more as a feeling of mild pressure sensation on the top and back of the scalp that will at times &quot;bloom&quot; in intensity across the scalp in response to stimuli. Yes, there are also tingles.</p>
<p>What triggers this seems to be hit and miss. Slow, steady, soft speech patterns or rustling noises can do it, so does close personal attention such as a visit to the eye doctor. The aforementioned community is a subreddit that deals in posting videos that cause this sensation for people. These generally range from creepy videos of people whispering things into a microphone to creepy videos of people making various noises with various things or sometimes role play videos that are a mix of the two. There&#39;s no getting around the creepy factor, because it is and doubly so if you don&#39;t know what the fuck is going on.</p>
<p>As for myself and my history with this... condition(?), I&#39;ve had it for as long as I can remember. I recall fairly well the first time I actually tried to vocalize it to somebody. One of my cousins and I were coloring at my grandma&#39;s house and I said something about tickles in my brain. I believe I was six or seven at the time. My young self would try to figure out ways of inducing the &quot;tingles&quot;, at one point settling on raising and lowering my eyebrows repeatedly in erratic patterns (the results were mixed).</p>
<p>As I rolled into my later teen years, I kind of forgot about whole thing except when I would go to the optometrist. It wasn&#39;t until mid-2012 when I saw an ad for the subreddit that it was brought back to my attention and a little bit of perspective put on the whole thing. Having been tuned back into the phenomenon and having a better idea of how to trigger it, I tested the waters with the creepy videos and, though it&#39;s hit and miss, they work. Now, late in the evening, I&#39;ll often put one of those videos on, lay down on my bed or the couch with my earbuds in, and take a train to Relaxation Town.</p>
<p>It&#39;s quite nice, really.</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="https://dxprog.com/entry/getting-around-the-iron-curtains">Getting Around the Iron Curtains</a></h1><time class="post__published">February 23, 2014</time></header><div class="post__content"><p>Last week, a friend clued me into CloudFlare, a CDN service that also somehow has a free tier with unlimited bandwidth. This played right into my fears of hitting the 4TB bandwidth ceiling on my current hosting tier. Put into perspective, that&#39;s pretty close to all the digital storage I have available in my apartment. Also, it quells the fears that users on the other side of the pond are getting subpar download times. So, with minimal weighing of the consequences, I flipped everything over. And, lo and behold, it worked!</p>
<p>Almost...</p>
<p>You see, some countries and ISPs think that blocking shit on the internet is a really great idea. I&#39;m not going to go on a political rampage right now because that&#39;s not my style, but when you&#39;re getting messages about users unable to download content from your hosting due to these reasons, it&#39;s more than a little irritating. But, goddammit, I&#39;m a programmer and there had to be a solution that&#39;d get me the best of both worlds without shelling out additional money.</p>
<p>After disabling the caching layer on that subdomain (cdn.awwni.me), I began weighing my options. Somehow I needed to find out if a particular user had the ability to talk to CloudFlare (now working through licdn.awwni.me). Most views were going to be served straight out of reddit.com, but I had a couple of attack vectors: the redditbooru.com main site, which is hit often for people doing repost checks or looking at albums that have been posted to reddit, and the RedditBooru browser extensions. The former was going to be the easiest to tinker with (so I thought) and affect the most people.</p>
<p>Since I had a way to test availability, I needed to actually perform the test itself. What I devised was an iframe that would be loaded on every page of RedditBooru. It would load the following script:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://licdn.awwni.me/cdncheck.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// If this page has managed to load, go ahead and set the CDN cookie to expire on my 100th birthday</span>
<span class="hljs-keyword">var</span> date = (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'2086/6/8'</span>)).toGMTString();
<span class="hljs-built_in">document</span>.cookie = <span class="hljs-string">'use_cdn=true; expires='</span> + date;
</code></pre>
<p>If the user has access to the licdm subdomain, a cookie is set noting such and does so on the cdn.awwni.me domain. Since these users were now marked, this information can be used in nginx to reroute the user.</p>
<pre><code class="lang-nginx"><span class="hljs-attribute">if</span> (<span class="hljs-variable">$host</span> != licdn.awwni.me) {
    <span class="hljs-attribute">set</span> <span class="hljs-variable">$useCdn</span> <span class="hljs-string">"P"</span>;
}

    <span class="hljs-attribute">if</span> (<span class="hljs-variable">$http_cookie</span> <span class="hljs-regexp">~* 'use_cdn')</span> {
    <span class="hljs-attribute">set</span> <span class="hljs-variable">$useCdn</span> <span class="hljs-string">"<span class="hljs-variable">${useCdn}</span>C"</span>;
}

<span class="hljs-attribute">if</span> (<span class="hljs-variable">$useCdn</span> = PC) {
            <span class="hljs-attribute">rewrite</span><span class="hljs-regexp"> ^/(.*)</span> http://licdn.awwni.me/<span class="hljs-variable">$1</span> <span class="hljs-literal">permanent</span>;
}
</code></pre>
<p>Getting around nginx&#39; inability to do multiple conditionals in one line aside, the above checks to make sure that the cookie is set and that the user is <em>not</em> coming from the licdn.awwni.me domain. That last bit was added when I accidentally set the CDN cookie on licdn and got caught in an infinite redirect loop for a while. If either of the conditions aren&#39;t met, the image will just serve out of my machine.</p>
<p>There are a few drawbacks to this approach. First of all, every request still hits my machine, so I&#39;m still taking a bandwidth hit. Secondly, those getting served out of the CDN have an extra hop for the redirect. However, I believe neither of these issues are bad enough to warrant removing it completely. For starters, on my side I&#39;m now only serving a handful of bytes as opposed to millions. Secondly, a redirect on a single image is pretty much inconsequential to the user&#39;s experience.</p>
<p>I&#39;ve only been running with this solution for a few hours, so I don&#39;t yet have a good look on how great the benefits are. Time will tell on that one, but I haven&#39;t yet heard any issues on images not loading, so there&#39;s some comfort.</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="https://dxprog.com/entry/my-god-i-am-a-creepy-person">My God, I am a creepy person</a></h1><time class="post__published">February 15, 2014</time></header><div class="post__content"><p>I have this personal website, which essentially means I am my own little mini NSA. If I wanted to, for example, find out if a person I have very few details on were to visit here, I&#39;d be able to find that out. Let&#39;s say, for example, I know what probable day they&#39;d view this blog, what page they&#39;d be coming from, and approximately where they live.</p>
<p>Well, I have enough data to know (probably) if that person hit my site and what they did when they got here.</p>
<p>As a hypothetical example, let&#39;s say I know they&#39;re somewhere in Northern California, probably came to the homepage via a Google search, and did so on February 13th. Alright, first thing&#39;s first, grep the logs for that day, that page, and exclude crawlers...</p>
<p>Sweet, now I have a list of IPs. Let&#39;s plug those into <a href="http://www.maxmind.com/en/geoip_demo">MaxMind geoip lookup</a> and see what comes of it.</p>
<p>Hmm, no exact match, but ISPs are fuzzy about location and this one is certainly within the area! Alright, now grep the logs for that IP address...</p>
<p>Okay, the person was on the homepage for about three seconds before going to the art page. Once there, they clicked on <a href="http://dxprog.com/uploads/Vesperia-Doll.jpg">three</a> <a href="http://dxprog.com/uploads/Kagami_Doll.jpg">pieces</a> of <a href="http://dxprog.com/uploads/HanakoChristmas.jpg">art</a> before leaving the site. All in all, about a minute of time elapsed between the first and final requests.</p>
<p>Other fun things you can find out while grepping logs is that your mother and former boss are the most frequent visitors to your site. The latter - going under a pseudonym - even listened to the Inception soundtrack on your music page sometime back in November while at work.</p>
<p>This is, of course, all hypothetical.</p>
</div></article><div class="paging"><a href="https://dxprog.com/archives/14" class="paging__link paging__link--next">Earlier Posts</a><a href="https://dxprog.com/archives/12" class="paging__link paging__link--previous">Later Posts</a></div></section><footer class="footer"><p class="footer__copyright">Copyright © 2020 Matt Hackmann</p><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-280226-1"></script><script src="//dxprog.com/static/js/dxprog.js"></script></footer></section></body></html>