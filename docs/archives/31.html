<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Archives - Page 31</title><link rel="stylesheet" type="text/css" href="http://staticr.dxprog.com/static/css/index.css"/></head><body><section class="rollup-page"><section class="intro-bar"><img src="http://staticr.dxprog.com/static/images/me.jpg" alt="Matt Hackmann" class="intro-bar__photo"/><h1 class="intro-bar__header"><span class="intro-bar__name intro-bar__name--first">Matt</span><span class="intro-bar__name intro-bar__name--last">Hackmann</span></h1><h2 class="intro-bar__subhead">The thoughts and goings-on of some programmer dude.</h2><nav class="intro-bar__social-nav"><ul class="social-links"><li class="social-links__item"><a class="social-links__link social-links__link--rss" target="_blank" href="http://feeds.feedburner.com/dxprog">RSS Feed</a></li><li class="social-links__item"><a class="social-links__link social-links__link--github" target="_blank" href="https://github.com/dxprog">GitHub</a></li><li class="social-links__item"><a class="social-links__link social-links__link--twitter" target="_blank" href="https://twitter.com/dxprog">Twitter</a></li><li class="social-links__item"><a class="social-links__link social-links__link--linkedin" target="_blank" href="https://www.linkedin.com/in/mhackmann">LinkedIn Profile</a></li></ul></nav></section><section class="article-list"><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/arduino-project-2-zelda-no-floppy">Arduino Project #2 - Zelda no Floppy</a></h1><time class="post__published">August 21, 2012</time></header><div class="post__content"><p>I can&#39;t really take too much credit for pulling this one together as I just followed a magnificent <a href="http://www.youtube.com/watch?v=w6tuMn5sPyM">tutorial</a>, but here is my arduino hooked up to a lone floppy drive (only one I have, currently) pumping out some Zelda music. I will be adding more drives soon and doing some additional fanciness. Yes...</p>
<p>[youtube=FqwX25_sjlo]</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/arduino-project-1-taiko-march">Arduino Project #1 - Taiko March</a></h1><time class="post__published">August 10, 2012</time></header><div class="post__content"><p>I&#39;ve been wanting an Arduino microcontroller for some time and last week I finally broke down and bought one. I&#39;ve been dicking around with some simple projects, but on of the things that I&#39;ve been eagerly looking forward to doing is a computer controlled Christmas lights setup. There are some selfish reasons, I&#39;ll admit, like winning the company Christmas decorations contest. But, I digress.</p>
<p>To that end, I horked some code from a Taiko no Tatsujin clone I&#39;d been writing a few years ago and tossed the output at the Arduino via serial data. Here&#39;s the result:</p>
<p>[![youtube video](<a href="https://img.youtube.com/vi/NNB-FKYbRWY]">https://img.youtube.com/vi/NNB-FKYbRWY]</a></p>
<p>Code is after the break![break]</p>
<p>The sketch for this is stupid simple: take the number from serial, make that pin high. Wait a bit, turn it off. Rinse and repeat.</p>
<p>[code=arduino/0.jpg)](<a href="https://www.youtube.com/watch?v=NNB-FKYbRWY]">https://www.youtube.com/watch?v=NNB-FKYbRWY]</a></p>
<p>Code is after the break![break]</p>
<p>The sketch for this is stupid simple: take the number from serial, make that pin high. Wait a bit, turn it off. Rinse and repeat.</p>
<p>[code=arduino)
int rxPin = 0;</p>
<p>void setup() {
  Serial.begin(9600); 
  pinMode(8, OUTPUT);
  pinMode(9, OUTPUT);
  pinMode(10, OUTPUT);
  pinMode(11, OUTPUT);
}</p>
<p>void loop() {
  if (Serial.available() &gt; 0) {
    rxPin = Serial.read();
    digitalWrite(rxPin + 8, HIGH);
    delay(10);
    digitalWrite(rxPin + 8, LOW);
  }
}
[/code]</p>
<p>All the magic happens in the C# application that funnels the data down to the Arduino. It reads the beatmap (a custom XML format with data scraped from an osu! beatmap) and times the whole thing out.</p>
<p>[code=c#]</p>
<p>using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.IO.Ports;
using System.Xml;
using System.Media;</p>
<p>using WMPLib;</p>
<p>namespace ArduinoTalk
{
    class Program
    {</p>
<pre><code>    private class Note
    {
        public int x, type, accuracy;
        public bool active, deployed, hasBeenClosest, closest;
        public long delay;
    }

    // Constants
    private const int EASY = 0;
    private const int NORMAL = 1;
    private const int HARD = 2;
    private const int ONI = 3;
    private const int DON = 0;
    private const int KA = 1;

    private static List&lt;Note&gt; notes = new List&lt;Note&gt;();
    private static string songTitle, songFile;
    private static int bpm, noteSpeed, noteOffset, frameRate, currentNote;
    private static string[] maps = new string[4];
    private static WindowsMediaPlayer player = new WindowsMediaPlayer();
    private static int lastNote = 0;
    private static int prevNote = 0;
    private static int noteRun = 0;

    static void Main(string[] args)
    {

        SerialPort port = new SerialPort(&quot;COM5&quot;);
        port.Open();
        if (port.IsOpen)
        {
            loadSong(&quot;taiko_march&quot;);
            port.BaudRate = 9600;
            beginSong(HARD);

            System.Threading.Thread.Sleep(100);

            while (player.controls.currentPosition &lt; player.currentMedia.duration)
            {
                double positionMilli = Math.Round(player.controls.currentPosition * 1000);
                if (lastNote &lt; notes.Count &amp;&amp; notes[lastNote].delay - positionMilli &lt;= 0)
                {
                    noteRun = prevNote == notes[lastNote].type ? noteRun + 1 : 0;
                    int type = notes[lastNote].type * 2;
                    type = prevNote == notes[lastNote].type ? type + noteRun % 2 : type;
                    byte[] data = new byte[] { Convert.ToByte(type) };
                    port.Write(data, 0, 1);
                    Console.WriteLine(&quot;{0}, {1}, {2}&quot;, notes[lastNote].type, type, noteRun);
                    prevNote = notes[lastNote].type;
                    lastNote++;
                }
            }


        }
    }

    private static void loadSong(string patternFile)
    {

        XmlDocument xmlDoc = new XmlDocument();

        // Load and parse the song file
        xmlDoc.Load(&quot;maps/&quot; + patternFile + &quot;.xml&quot;);
        foreach (XmlNode node in xmlDoc.FirstChild)
        {
            switch (node.Name)
            {
                case &quot;title&quot;:
                    songTitle = node.FirstChild.Value;
                    break;
                case &quot;bpm&quot;:
                    bpm = Convert.ToInt32(node.FirstChild.Value);
                    break;
                case &quot;file&quot;:
                    songFile = node.FirstChild.Value;
                    break;
                case &quot;maps&quot;:
                    foreach (XmlNode xmlMap in node.ChildNodes)
                    {
                        switch (xmlMap.Name)
                        {
                            case &quot;easy&quot;:
                                maps[EASY] = xmlMap.FirstChild.Value;
                                break;
                            case &quot;normal&quot;:
                                maps[NORMAL] = xmlMap.FirstChild.Value;
                                break;
                            case &quot;hard&quot;:
                                maps[HARD] = xmlMap.FirstChild.Value;
                                break;
                            case &quot;oni&quot;:
                                maps[ONI] = xmlMap.FirstChild.Value;
                                break;
                        }
                    }
                    break;
            }
        }

    }

    public static void beginSong(int difficulty)
    {

        // Load the map
        string[] map = maps[difficulty].Split(&#39;,&#39;);
        notes.Clear();
        foreach (string note in map)
        {
            Note t = new Note();
            string type = note.Substring(0, 1);
            t.delay = Convert.ToInt32(note.Substring(1, note.Length - 1));
            switch (type)
            {
                case &quot;d&quot;:
                    t.type = DON;
                    break;
                case &quot;k&quot;:
                    t.type = KA;
                    break;
            }
            t.x = 852;
            notes.Add(t);
        }
        currentNote = 0;
        notes.Sort((x, y) =&gt; x.delay.CompareTo(y.delay));

        // Play the song and note the start time
        player.URL = &quot;C:\\Users\\Matt\\Documents\\Visual~1\\Projects\\ArduinoTalk\\ArduinoTalk\\bin\\Debug\\maps\\&quot; + songFile;
        player.controls.play();

    }

}
</code></pre><p>}
[/code]</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/chrispilation">Chrispilation</a></h1><time class="post__published">July 31, 2012</time></header><div class="post__content"><p>My bro just headed off to the University of Oklahoma to get himself an ejucation. So, in an effort to embarrass him in front of future girlfriends who might google him (that&#39;s Chris Hackmann, Google crawler), I culled together this footage I had lying around. Enjoy!</p>
<p>[youtube=ili0n1yMRz0]</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/those-that-didnt-make-the-cut">Those That Didn&#x27;t Make the Cut</a></h1><time class="post__published">July 30, 2012</time></header><div class="post__content"><p>With only two more blog posts to go and only having missed one day, I&#39;m digging into cheap content to fill this space. Perhaps it&#39;d be more challenging to actually create new content for an entire month, but I&#39;m too lazy for that.</p>
<p>Instead, you get random scraps of things I started and never completed from my sketch books. So, yeah. Enjoy that. Or have a beer. Or have a beer and then enjoy that.</p>
<p><img src="http://images.dxprog.com/blog/art_burning_fairy.jpg" alt="" title="Not so sweet anymore">
This was the first thing I drew with the complimentary box of Crayons I got from Crayola. I was not in the least bit bitter.[break]</p>
<p><img src="http://images.dxprog.com/blog/art_godcoon.jpg" alt="" title="Make her an offer she can&#39;t refuse, Nook">
I had an idea for a Animal Crossing/Godfather crossover comic. This is all that was ever really drawn.</p>
<p><img src="http://images.dxprog.com/blog/art_hanako_school.jpg" alt="" title="Complete with random wind">
Sketch of my Hanako character. This isn&#39;t terrible, so I&#39;m not sure why I never finished it.</p>
<p><img src="http://images.dxprog.com/blog/art_hanako_sundress.jpg" alt="" title="SUNDRESSES!">
Hanako in various different poses and styles. Also, I have a penchant for sundresses.</p>
<p><img src="http://images.dxprog.com/blog/art_mario_tampons.jpg" alt="" title="I&#39;m sure there was to be dialog">
If I recall, this was another doodle based upon something said by the wonderful <a href="http://dxprog.com/comic/dark-over-light/">devusb</a>.</p>
<p><img src="http://images.dxprog.com/blog/art_schoolgirl_dude.jpg" alt="" title="Cross dressers?">
Me failing at drawing females. This can only be a cross dressing man.</p>
<p><img src="http://images.dxprog.com/blog/art_taiga.jpg" alt="" title="The Palmtop Tiger">
Taiga from Toradora. There&#39;s a half colored version of this somewhere on my backup drive.</p>
<p>Well, only one more day to go. No, make that two. </p>
<p>I&#39;ll make up for the day I missed.</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/relaunch-yet-again">Relaunch Yet Again</a></h1><time class="post__published">July 28, 2012</time></header><div class="post__content"><p>Oops, I did it again. I have redesigned and relaunched this website. Granted, I managed to go nearly two years without touching it. That&#39;s amazing.</p>
<p>So, what&#39;s new? Outside of an enormous code reworking to take into account the wonderful new OOP changes in PHP 5.3 and the obvious new look, here&#39;s what&#39;s new:</p>
<ul>
<li>Responsive design: not everything has this treatment (art page), but all the main pages should display themselves nicely no matter what device you view them on.</li>
<li>Threaded comments: if you reply to a message, your reply will display underneath, <a href="http://dxprog.com/entry/useless-justification/#comments">like this</a>.</li>
<li>Removal of SSO for comments: no more twitter, no more facebook. Gravatar is also used for avatars.</li>
<li>Better lightbox: every image in a blog post will display in a lightbox when clicked (larger if there happens to be a larger image). This same lightbox is also used for the art page</li>
<li>Art page is all pintresty. Because, hey, why not.</li>
<li>Content reorganization: gone is the video tab, here is the &quot;code&quot; tab with all sorts of random code projects of mine.</li>
<li>Popular art module. That&#39;s new.</li>
<li>Cloud tag has been removed.</li>
<li>Archives is a list again and smarter in that it will select what year to show depending on the context of the page you&#39;re on.</li>
<li>Code snippets use the Solarized theme</li>
</ul>
<p>So, that&#39;s what&#39;s new on the front end. As stated, most of the fun stuff is all in the code changes. And, for the first time ever, you can see the code that&#39;s running this site on its <a href="https://github.com/dxprog/DxCMS">GitHub repository</a>.</p>
</div></article><div class="paging"><a href="http://staticr.dxprog.com/archives/32.html" class="paging__link paging__link--next">Earlier Posts</a><a href="http://staticr.dxprog.com/archives/30.html" class="paging__link paging__link--previous">Later Posts</a></div></section><footer class="footer"><p class="footer__copyright">Copyright © 2018 Matt Hackmann</p></footer></section></body></html>