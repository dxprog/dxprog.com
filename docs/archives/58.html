<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Archives - Page 58</title><link rel="stylesheet" type="text/css" href="http://staticr.dxprog.com/static/css/index.css"/></head><body><section class="rollup-page"><section class="intro-bar intro-bar--horizontal"><img src="http://staticr.dxprog.com/static/images/me.jpg" alt="Matt Hackmann" class="intro-bar__photo"/><h1 class="intro-bar__header"><span class="intro-bar__name intro-bar__name--first">Matt</span><span class="intro-bar__name intro-bar__name--last">Hackmann</span></h1><h2 class="intro-bar__subhead">The thoughts and goings-on of some programmer dude.</h2><nav class="intro-bar__social-nav"><ul class="social-links"><li class="social-links__item"><a class="social-links__link social-links__link--rss" target="_blank" href="http://feeds.feedburner.com/dxprog">RSS Feed</a></li><li class="social-links__item"><a class="social-links__link social-links__link--github" target="_blank" href="https://github.com/dxprog">GitHub</a></li><li class="social-links__item"><a class="social-links__link social-links__link--twitter" target="_blank" href="https://twitter.com/dxprog">Twitter</a></li><li class="social-links__item"><a class="social-links__link social-links__link--linkedin" target="_blank" href="https://www.linkedin.com/in/mhackmann">LinkedIn Profile</a></li></ul></nav></section><section class="article-list"><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/rise-from-your-grave-chainploder">Rise From Your Grave - Chainploder</a></h1><time class="post__published">November 19, 2010</time></header><div class="post__content"><p>I was poking around my giant hard drive a couple days ago, looking at a bunch of old programming projects I&#39;d done. Some of these had some pretty cool concepts behind them but, for whatever reason, I never completed them. So, in a series of blog posts shamelessly ripping a line of dialog from Altered Beast, I will present to you some of the cooler of these projects - complete with all their original source code. Today&#39;s highlight is Chainploder.

<p><a href="http://staticr.dxprog.com/entry/rise-from-your-grave-chainploder">Continue Reading</a></p></div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/another-code-battle-royale">Another Code Battle Royale</a></h1><time class="post__published">November 15, 2010</time></header><div class="post__content"><p>My brother and I are programmers. This must be discreetly understood or no good will come of the story I am about to regale. Every <a href="http://dxprog.com/entry/a-coding-compo/">once and again</a>, we&#39;ll embark on a coding competition. Last time was a game, this time a chat client. My weapon of choice was various web languages (PHP and JS for the programatic stuff) and his was C++. Arguably, I had an advantage.</p>
<p>Even though I was able to bypass the whole sockets layer, I did set a rule for myself: I could not resort to using a transactional database (i.e. MySQL). Granted, I didn&#39;t foresee any issues as I had the power of APC caching on my side. It turned out that this would be what I fought with most and, eventually, just give up on.</p>
<p>For whatever reason, despite the fact that apc_store was returning success on caching an object, it would not persist. A quick call to apc_exists immediately after the store command with the same cache key confirmed this. I went round and round with this issue. Sometimes the object would persist for one or two sessions but ultimately would up be dropped. I read somewhere that storing an array of objects could cause issues (which I was doing), so I serialized the bitch before caching. No dice.</p>
<p>In the end I said &quot;screw it&quot; and just created my own disk-based caching model. I decided to take the whole thing a little further and account for cache collisions (two instances accessing the cache at the same time) which may or may not work. The only reason I even bothered was because I have an ID variable that needs to iterate for every single chat posted and sought to avoid two scripts running simultaneously and writing an erroneous value (a point that was raised in some fashion during my <a href="http://dxprog.com/entry/the-digg-debacle/">Digg interview</a>.</p>
<p>So, two hours after the initial one we&#39;d allotted for the competition, I wound up victorious. While not glamorous, my chat client does indeed work: <a href="http://dev.dxprog.com/quickChat">Live Demo</a> - <a href="http://dxprog.com/files/quickChat.zip">Source</a></p>
<p>What of my brother&#39;s program? Well, let&#39;s just say the computers weren&#39;t talking too nice and the program kept crashing.</p>
<p>Victory is mine!</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/because-its-far-too-warm-for-november">Because It&#x27;s Far Too Warm For November</a></h1><time class="post__published">November 10, 2010</time></header><div class="post__content"><p><a href="http://fc02.deviantart.net/fs71/i/2010/313/1/e/hanako_in_winter_by_dxprog-d32j89f.jpg"><img src="http://images.dxprog.com/blog/BlogHanakoWinter.jpg" alt="" title="How do you avoid drawing limbs? Wrap &#39;em in a cape/blanket/coat thing!"></a></p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/php-id3lib-10-release">PHP ID3Lib 1.0 Release</a></h1><time class="post__published">November 6, 2010</time></header><div class="post__content"><p>Brand spanking new release of the PHP branch of ID3Lib!</p>
<p>[ <a href="http://dxprog.com/files/id3lib_php.zip">Download</a> ]
[ <a href="http://dxprog.com/docs/id3lib/">Documentation</a> ]</p>
<p><strong>What&#39;s new:</strong></p>
<ul>
<li>Added support for ID3v1, older ID3v2</li>
<li>Genre now returned on all tag versions</li>
<li>Calculates song duration and average bit rate for constant (CBR) and variable (VBR) bit rate files</li>
<li>Single object instantiation can read more than one file</li>
<li>Much improved inline documentation (phpDoc style)</li>
<li>General code clean-up, bug fixes and improved compatibility</li>
</ul>
<p><strong>Example</strong></p>
<pre><code class="lang-php">
<span class="hljs-keyword">include</span>(<span class="hljs-string">'id3lib.php'</span>);
$songs = <span class="hljs-keyword">array</span>(<span class="hljs-string">'song1.mp3'</span>, <span class="hljs-string">'song2.mp3'</span>, <span class="hljs-string">'song3.mp3'</span>);
$id3 = <span class="hljs-keyword">new</span> ID3Lib();
<span class="hljs-keyword">for</span> ($i = <span class="hljs-number">0</span>, $count = count($songs); i &lt; $count; i++) {
    $id3-&gt;readFile;
    $min = floor($id3-&gt;length / <span class="hljs-number">60</span>);
    $sec = $id3-&gt;length - ($min * <span class="hljs-number">60</span>);
    $sec = strlen($sec) == <span class="hljs-number">1</span> ? <span class="hljs-string">'0'</span> . $sec : $sec;
    <span class="hljs-keyword">echo</span> <span class="hljs-string">'Title: '</span>, $id3-&gt;title, <span class="hljs-string">'&lt;br /&gt;'</span>;
    <span class="hljs-keyword">echo</span> <span class="hljs-string">'Artist: '</span>, $id3-&gt;artist, <span class="hljs-string">'&lt;br /&gt;'</span>;
    <span class="hljs-keyword">echo</span> <span class="hljs-string">'Album: '</span>, $id3-&gt;album, <span class="hljs-string">'&lt;br /&gt;'</span>;
    <span class="hljs-keyword">echo</span> <span class="hljs-string">'Track Number: '</span>, $id3-&gt;track, <span class="hljs-string">'&lt;br /&gt;'</span>;
    <span class="hljs-keyword">echo</span> <span class="hljs-string">'Disc: '</span>, $id3-&gt;disc, <span class="hljs-string">'&lt;br /&gt;'</span>;
    <span class="hljs-keyword">echo</span> <span class="hljs-string">'Year: '</span>, $id3-&gt;year, <span class="hljs-string">'&lt;br /&gt;'</span>;
    <span class="hljs-keyword">echo</span> <span class="hljs-string">'Genre: '</span>, $id3-&gt;genre, <span class="hljs-string">'&lt;br /&gt;'</span>;
    <span class="hljs-keyword">echo</span> <span class="hljs-string">'Length: '</span>, $min, <span class="hljs-string">':'</span>, $sec, <span class="hljs-string">'&lt;br /&gt;'</span>;
    <span class="hljs-keyword">echo</span> <span class="hljs-string">'Avg. Bit Rate: '</span>, $id3-&gt;bitrate, <span class="hljs-string">'&lt;br /&gt;'</span>;
    $id3-&gt;savePicture($i.<span class="hljs-string">'_pic.jpg'</span>);
}

</code></pre>
<p>If you have any comments/issues, let me know!</p>
</div></article><article class="post"><header class="post__header"><h1 class="post__title"><a href="http://staticr.dxprog.com/entry/the-revenge-of-bottomembly">The Revenge of Bottomembly</a></h1><time class="post__published">October 14, 2010</time></header><div class="post__content"><p>A few days ago I was out walking and reminiscing, as I am wont to do. While I was doing this, I  recalled some of my first web related programming projects, most notably YPNgine. Considering it was my first major PHP outing, I pulled off quite a feat. Writing a message board is no small task. However, there was one part in particular that I was mulling over: the censor. </p>
<p>If you happen to be a former YPNer, you may recall seeing many references to &quot;bottomembly&quot;. Carrying over the censor find/replace list that had been used on phpBB before it, all instances of the character sequence &quot;ass&quot; were summarily replaced with &quot;bottom&quot;. Now I am being very choosy when I say &quot;character sequence&quot; and not &quot;word&quot; as the censor couldn&#39;t differentiate words.</p>
<p>This oversight was brought to my attention my young programmer self struggled to figure out a solution. Here&#39;s what I wound up doing:</p>
<pre><code class="lang-php"><span class="hljs-comment">// Copyright (c) 2003 Matt Hackmann</span>
<span class="hljs-comment">// Full copyright info in index.php</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">censor_post</span> <span class="hljs-params">($body)</span>
</span>{

    $query = <span class="hljs-string">"SELECT * FROM bannedwords"</span>;
    $result = db_Query ($query);

    $body = <span class="hljs-string">" "</span>.$body;

    $body = str_ireplace (<span class="hljs-string">"assembly"</span>, <span class="hljs-string">"ytrewq"</span>, $body);
    $body = str_ireplace (<span class="hljs-string">"assum"</span>, <span class="hljs-string">"asd;ljf"</span>, $body);
    $body = str_ireplace (<span class="hljs-string">"glass"</span>, <span class="hljs-string">"glss"</span>, $body);
    $body = str_ireplace (<span class="hljs-string">"hello"</span>, <span class="hljs-string">"hllo"</span>, $body);

    <span class="hljs-keyword">for</span> ($i = <span class="hljs-number">0</span>; $i &lt; db_num_Rows ($result); $i++) {
        $row = db_fetch_array ($result);
        $body = str_ireplace ($row[<span class="hljs-string">"blocked_word"</span>], <span class="hljs-string">""</span>, $body);
    }

    <span class="hljs-keyword">if</span> ($body == <span class="hljs-string">" "</span>)
        $body = <span class="hljs-string">"Censored"</span>;

    $body = str_replace (<span class="hljs-string">"asd;ljf"</span>, <span class="hljs-string">"assum"</span>, $body);
    $body = str_replace (<span class="hljs-string">"ytrewq"</span>, <span class="hljs-string">"assembly"</span>, $body);
    $body = str_replace (<span class="hljs-string">"glss"</span>, <span class="hljs-string">"glass"</span>, $body);
    $body = str_ireplace (<span class="hljs-string">"hllo"</span>, <span class="hljs-string">"hello"</span>, $body);

    <span class="hljs-keyword">return</span> $body;

}
</code></pre>
<p>As you can see, I started hard coding in a list of safe words, replacing those instances with a random (or not so random) string of characters, run the censor and then convert those strings back to the safe words. This was a list I kept expanding on as they were found during normal conversation on the forum. I giggle as I look at this list and think of what the censor was doing to those words: bottomume, glbottom and hecko.</p>
<p>It&#39;s just something that I, eight years later, have to look back on and chuckle about.</p>
</div></article><div class="paging"><a href="http://staticr.dxprog.com/archives/59.html" class="paging__link paging__link--next">Earlier Posts</a><a href="http://staticr.dxprog.com/archives/57.html" class="paging__link paging__link--previous">Later Posts</a></div></section><footer class="footer"><p class="footer__copyright">Copyright © 2018 Matt Hackmann</p></footer></section></body></html>